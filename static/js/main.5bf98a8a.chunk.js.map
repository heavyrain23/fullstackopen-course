{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/PersonService.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","changeEvent","onChange","PersonForm","submitEvent","nameValue","nameChange","valueNumber","numberChange","onSubmit","type","Person","key","name","number","deletePerson","onClick","Persons","persons","newFilter","personsToShow","filter","person","toLocaleLowerCase","includes","map","id","baseUrl","axios","get","then","response","data","nameObj","post","delete","put","Notification","notification","message","baseStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","width","notificationStyle","color","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","setNotification","useEffect","PersonService","initialPersons","positiveNotification","text","setTimeout","event","target","preventDefault","findIndex","window","confirm","find","p","newPerson","newPersons","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5bf98a8a.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst Filter = ({value, changeEvent}) => {\r\n    return (\r\n        <div>\r\n           Filter <input value = {value}\r\n                         onChange = {changeEvent}> \r\n                 </input>\r\n        </div>\r\n    )    \r\n};\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({submitEvent, nameValue, nameChange, valueNumber, numberChange }) => {\r\n\r\n    return <form onSubmit = {submitEvent}>\r\n    <h2>Add a new</h2>\r\n    <div>\r\n      name: <input \r\n        value = {nameValue}\r\n        onChange= {nameChange}  />\r\n    </div>\r\n    \r\n    <div>\r\n      number: <input\r\n          value = {valueNumber}\r\n          onChange = {numberChange} /></div>\r\n    <div>\r\n    \r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>\r\n}\r\n\r\nexport default PersonForm\r\n\r\n\r\n","import React from 'react'\r\n\r\nconst Person = ({key, name, number, deletePerson}) => {\r\n    return (\r\n    <li>{name}: {number} <button onClick={deletePerson}>delete</button></li>)\r\n};\r\n\r\n export default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({persons, newFilter, deletePerson }) => {\r\n    let personsToShow = persons;\r\n    if (newFilter) {\r\n        personsToShow = persons.filter(person => person.name.toLocaleLowerCase().includes(newFilter.toLocaleLowerCase()))\r\n    };\r\n\r\n    const rows = () => personsToShow.map(person =>\r\n        <Person key={person.name} name={person.name} number={person.number} deletePerson={() => deletePerson(person.id)} />\r\n    )\r\n\r\n    return (\r\n\t\t<ul>\r\n\t\t\t{rows()}\r\n\t\t</ul>\r\n\t)\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (nameObj) => {\r\n    const request = axios.post(baseUrl, nameObj)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nconst update = (id,nameObj) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, nameObj)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {getAll, create, deletePerson, update }","import React from 'react'\r\n\r\nconst Notification = ({notification}) => {\r\n    const message = notification.message\r\n    const type = notification.type\r\n\r\n    if(message === null) {\r\n        return null\r\n    }\r\n\r\n    const baseStyle = {\r\n        background: 'white',\r\n\t\tfontSize: '20px',\r\n\t\tborderStyle: 'solid',\r\n\t\tborderRadius: '5px',\r\n\t\tpadding: '10px',\r\n        marginBottom: '10px',\r\n        width: '200px'\r\n    }\r\n\r\n    let notificationStyle = null;\r\n    if(type === 'error') {\r\n        notificationStyle = {...baseStyle, color: 'red' }\r\n    }else{\r\n        notificationStyle = {...baseStyle, color: 'green'}\r\n    }\r\n\r\n    return (\r\n        <div style = {notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonsForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport PersonService from './components/PersonService'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [notification, setNotification] = useState({message: null, type: null})\r\n\r\n  useEffect(() => {\r\n    PersonService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const positiveNotification = (text) => {\r\n    const newMessage = {\r\n      message: text}   \r\n\r\n    setNotification(newMessage)\r\n    setTimeout(() => {\r\n      setNotification({...notification, message: null})\r\n    }, 5000)\r\n  }\r\n  \r\n\r\n  const addNewPerson = (event) => {\r\n    event.preventDefault()\r\n    if (persons.findIndex(person => person.name === newName) > -1) {\r\n      if (window.confirm(` user ${newName} already added on the list, replace it`)) {\r\n        const id = persons.find(p => p.name === newName).id\r\n        const nameObj = {\r\n          name: newName,\r\n          number: newNumber,\r\n        }\r\n        PersonService\r\n          .update(id, nameObj)\r\n          .then(newPerson => {\r\n            \r\n            positiveNotification(\"Person was updated\")\r\n\r\n            const newPersons = persons.map(person => person.id !== id ? person : newPerson)\r\n            setPersons(newPersons)\r\n          })      \r\n           \r\n        .catch(error => {\r\n          const newMessage = { \r\n            message: \"false\",\r\n            type: 'error'\r\n          }\r\n          setNotification(newMessage)\r\n          setTimeout(() => {\r\n            setNotification({...notification, message: null})\r\n          }, 5000)\r\n\r\n          setPersons(persons.filter(p => p.id !== id))\r\n        })\r\n\r\n      }\r\n    }\r\n    else {\r\n      const nameObj = {\r\n        name: newName,\r\n        number: newNumber,\r\n      }\r\n\r\n      PersonService\r\n        .create(nameObj)\r\n        .then(newPerson => {\r\n          \r\n          positiveNotification(\"Person was added\")\r\n\r\n          setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const deletePersonHandler = (id) => {\r\n    const person = persons.find(p => p.id === id)\r\n    if (window.confirm(`Delete this user ${person.name}?`)) {\r\n      PersonService\r\n        .deletePerson(id)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p.id !== id))\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification ={notification} />\r\n      <Filter value={newFilter} changeEvent={handleFilterChange} />\r\n      <PersonsForm submitEvent={addNewPerson} nameValue={newName} nameChange={handleNameChange}\r\n        valueNumber={newNumber} numberChange={handleNumberChange} />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} newFilter={newFilter} deletePerson={deletePersonHandler} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App\r\n\r\n\r\n\r\n","import React, {useState} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from \"./App\"\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n)\r\n\r\n\r\n"],"sourceRoot":""}